# =============================================================================
# Stonkmarket API Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Stonkmarket
APP_VERSION=2.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# -----------------------------------------------------------------------------
# Security (REQUIRED - generate secure values!)
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=CHANGE_ME_GENERATE_A_SECURE_SECRET

# Admin credentials (REQUIRED)
ADMIN_USER=admin
ADMIN_PASS=CHANGE_ME_USE_STRONG_PASSWORD

# JWT settings
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Connection pool size (default: 5)
DB_POOL_SIZE=5

# -----------------------------------------------------------------------------
# Valkey/Redis Cache
# -----------------------------------------------------------------------------
VALKEY_URL=redis://localhost:6379/0
# For Docker Compose: redis://valkey:6379/0

# Cache TTL settings (in seconds)
CACHE_DEFAULT_TTL=3600  # 1 hour

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# -----------------------------------------------------------------------------
# CORS (comma-separated origins)
# -----------------------------------------------------------------------------
# Leave empty to use defaults based on environment
# Example: https://example.com,https://app.example.com
CORS_ALLOWED_ORIGINS=

# -----------------------------------------------------------------------------
# Stock Tracking
# -----------------------------------------------------------------------------
# Comma-separated list of stock symbols to track
SYMBOLS=AAPL,MSFT,GOOGL,AMZN,TSLA

# -----------------------------------------------------------------------------
# Scheduler
# -----------------------------------------------------------------------------
SCHEDULER_ENABLED=true

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text

# -----------------------------------------------------------------------------
# API Keys (seeded to database on first startup)
# -----------------------------------------------------------------------------
# These keys are read from env on first startup and stored in the database.
# After initial seeding, manage them via Admin â†’ API Keys.

# OpenAI API key for AI-powered stock analysis
OPENAI_API_KEY=

# Logo.dev API keys for company logos (get at https://logo.dev)
LOGO_DEV_PUBLIC_KEY=
LOGO_DEV_SECRET_KEY=

# How many days to cache logos before refreshing (default: 90)
LOGO_CACHE_DAYS=90

# -----------------------------------------------------------------------------
# Gunicorn (Docker only)
# -----------------------------------------------------------------------------
GUNICORN_WORKERS=2

# -----------------------------------------------------------------------------
# Flower Monitoring (Celery task monitoring UI)
# -----------------------------------------------------------------------------
# Format: username:password (use a strong password in production)
FLOWER_BASIC_AUTH=stonkmarket:changeme_use_strong_password
